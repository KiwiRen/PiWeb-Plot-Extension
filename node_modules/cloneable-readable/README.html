<h1>cloneable-readable</h1>
<p><a href="https://travis-ci.org/mcollina/cloneable-readable"><img src="https://travis-ci.org/mcollina/cloneable-readable.svg?branch=master" alt="Build Status"></a></p>
<p>Clone a Readable stream, safely.</p>
<pre><code class="language-js"><span class="hljs-meta">'use strict'</span>

<span class="hljs-keyword">var</span> cloneable = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cloneable-readable'</span>)
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)
<span class="hljs-keyword">var</span> pump = <span class="hljs-built_in">require</span>(<span class="hljs-string">'pump'</span>)

<span class="hljs-keyword">var</span> stream = cloneable(fs.createReadStream(<span class="hljs-string">'./package.json'</span>))

pump(stream.clone(), fs.createWriteStream(<span class="hljs-string">'./out1'</span>))

<span class="hljs-comment">// simulate some asynchronicity</span>
setImmediate(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  pump(stream, fs.createWriteStream(<span class="hljs-string">'./out2'</span>))
})
</code></pre>
<p><strong>cloneable-readable</strong> automatically handles <code>objectMode: true</code>.</p>
<p>This module comes out of an healthy discussion on the 'right' way to
clone a Readable in https://github.com/gulpjs/vinyl/issues/85
and https://github.com/nodejs/readable-stream/issues/202. This is my take.</p>
<p><strong>YOU MUST PIPE ALL CLONES TO START THE FLOW</strong></p>
<p>You can also attach <code>'data'</code> and <code>'readable'</code> events to them.</p>
<h2>API</h2>
<h3>cloneable(stream)</h3>
<p>Create a <code>Cloneable</code> stream.
A Cloneable has a <code>clone()</code> method to create more clones.
All clones must be resumed/piped to start the flow.</p>
<h3>cloneable.isCloneable(stream)</h3>
<p>Check if <code>stream</code> needs to be wrapped in a <code>Cloneable</code> or not.</p>
<h2>Acknowledgements</h2>
<p>This project was kindly sponsored by <a href="http://nearform.com">nearForm</a>.</p>
<h2>License</h2>
<p>MIT</p>
